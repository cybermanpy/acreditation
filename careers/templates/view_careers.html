{% extends 'layout.html' %}
{% load widget_tweaks %}
{% load careers_extras %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}

    <form method="POST">
        {% csrf_token %}
        <div class="form-group row">
            <label for="university" class="col-sm-2">Universidad:</label>
            <div class="col-sm-10">
                {% render_field form.university class="form-control" %}
                {{ form.university.errors }}
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>

    <table class="table table-condensed">
        <tbody>
        <tr class="warning">
            <th>Nro.</th>
            <th>Carrera</th>
            <th>Institución</th>
            <th>Sede</th>
            <th>Facultad</th>
            <th>Resolución</th>
            <th>Fecha</th>
            <th>Periodo de Acreditación</th>
        </tr>
        {% for c in careers %}
            <tr class="{% cycle 'success' 'active' %}">
                <td> {{ c.national }} </td>
                <td> {{ c.fknamecareer }} </td>
                <td> {{ c.fkfaculty.fkuniversity }} </td>
                <td> {{ c.fkfaculty.fkcampus }} </td>
                <td> {{ c.fkfaculty.fkname }} </td>
                <td> {{ c.fkresolution.number }} </td>
                <td> {{ c.fkresolution.start_date|dateF1 }} </td>
                <td> {{ c.fkresolution.end_date|dateF1 }} </td>
            </tr>
        {% endfor%}
        </tbody>
    </table>
    <ul class="pagination pagination-sm"> 
        {% if careers.has_previous %}
            <li><a href="?page={{ careers.previous_page_number }}">&laquo;</a></li>
            <!-- <li><a href="?page={{ careers.previous_page_number }}">&larr;</a></li> -->
        {% endif %}
        {% for pg in careers.paginator.page_range %}
            {% if careers.number == pg %}
                <li class="active"><a href="?page={{ pg }}">{{ pg }}</a></li>
            {% else %}
                <li><a href="?page={{ pg }}">{{pg}}</a></li>
            {% endif %}
        {% endfor %}
        {% if careers.has_next %}
            <li><a href="?page={{ careers.next_page_number }}">&raquo;</a></li>
            <!-- <li><a href="?page={{ careers.next_page_number }}">&rarr;</a></li> -->
        {% endif %}
    </ul>
{% endblock %}